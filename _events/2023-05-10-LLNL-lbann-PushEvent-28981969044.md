---
event_type: PushEvent
avatar: "https://avatars.githubusercontent.com/u/6210171?"
user: bvanessen
date: 2023-05-10
repo_name: LLNL/lbann
html_url: https://github.com/LLNL/lbann/commit/369eae5f22f17c3915e8a51aa65a11e1d20e4fce
repo_url: https://github.com/LLNL/lbann
---

<a href='https://github.com/bvanessen' target='_blank'>bvanessen</a> pushed to <a href='https://github.com/LLNL/lbann' target='_blank'>LLNL/lbann</a>

<small>In-Place Layers (#2257)

* Initial implementation of in-place layers

* Add in-place specialization for a subset of layers

* Add tests

* Implement in-place semantics for operators

* Testing infrastructure

* Dropout can run in-place

* Allow Models to run without an execution context (e.g., for testing)

* Check output activations

* Add environment variable to configure in-place layers

* Clean up unit test

* Use options for in-place configuration

* Add in-place semantics and backpropagation requirements for all layers

* Fix backpropagation of in-place layers by addressing tensors through methods

* Allow dummy layer to specify error signals for backpropagation testing

* Test correctness of backpropagation for in-place layers

* Add runs_inplace to serialization

* Set default value for runs in-place field

* Fix ReLU backprop to use activations

* Allow model to compute backprop on all layers

* Make test more catch2-compatible

* Only clear specific previous error signals if in-place

* Fix in-place operations for layers in which it is not well-defined

* Apply suggestions from review

* Identity does not run in-place (it creates a view in any case)

* Update release notes

* Fix dummy backprop to zero gradients

* CI patches

* Disable in-place layers for differing subgrids

* Move subgrid test to the right place

* Add comment on modifying loss ranges

* Add comments

* Add weights to backprop requirements of batchnorm

* Update include/lbann/layers/transform/weights.hpp

Co-authored-by: Brian Van Essen <vanessen1@llnl.gov>

---------

Co-authored-by: Brian Van Essen <vanessen1@llnl.gov></small>

<a href='https://github.com/LLNL/lbann/commit/369eae5f22f17c3915e8a51aa65a11e1d20e4fce' target='_blank'>View Commit</a>