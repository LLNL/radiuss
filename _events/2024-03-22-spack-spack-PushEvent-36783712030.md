---
event_type: PushEvent
avatar: "https://avatars.githubusercontent.com/u/43588962?"
user: bernhardkaindl
date: 2024-03-22
repo_name: spack/spack
html_url: https://github.com/spack/spack/commit/2314aeb88420768de0ef16ce4928590560e1204a
repo_url: https://github.com/spack/spack
---

<a href='https://github.com/bernhardkaindl' target='_blank'>bernhardkaindl</a> pushed to <a href='https://github.com/spack/spack' target='_blank'>spack/spack</a>

<small>py-cmake: only run test suite when run_tests (#43246)

As the cmake build is triggered by scikit build, the usual spack option
for enabling tests had no effect and the heavy test suite ran all the time.

Used https://github.com/scikit-build/cmake-python-distributions/issues/172#issuecomment-890322263
to implement how to pass options to the actual `cmake` build.

I also excluded some tests that failed for me on alma9 (gcc 11.4.1),
so the rest of the test suite can be run.</small>

<a href='https://github.com/spack/spack/commit/2314aeb88420768de0ef16ce4928590560e1204a' target='_blank'>View Commit</a>