---
event_type: PushEvent
avatar: "https://avatars.githubusercontent.com/u/4199709?"
user: alalazo
date: 2023-02-07
repo_name: spack/spack
html_url: https://github.com/spack/spack/commit/a7f39da5db501eec1574c38fa9505c0be349224d
repo_url: https://github.com/spack/spack
---

<a href='https://github.com/alalazo' target='_blank'>alalazo</a> pushed to <a href='https://github.com/spack/spack' target='_blank'>spack/spack</a>

<small>Fix path handling in prefix inspections (#35318)

At least with ZSH, prefix inspections containing `./bin` result in a
`$PREFIX/./bin` and result in strange `$PATH` handling.

I.e., `module load git` will prepend `/path/to/git/./bin`, `which git`
will find the right executable, but `git --version` will print the
system one. Normalize the relative path to avoid this behavior.

See also spack/spack#31867.</small>

<a href='https://github.com/spack/spack/commit/a7f39da5db501eec1574c38fa9505c0be349224d' target='_blank'>View Commit</a>