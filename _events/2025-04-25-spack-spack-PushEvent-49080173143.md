---
event_type: PushEvent
avatar: "https://avatars.githubusercontent.com/u/13971568?"
user: becker33
date: 2025-04-25
repo_name: spack/spack
html_url: https://github.com/spack/spack/commit/5ae1023fcc656dc36fee99336fb8aa4e0cbfb337
repo_url: https://github.com/spack/spack
---

<a href='https://github.com/becker33' target='_blank'>becker33</a> pushed to <a href='https://github.com/spack/spack' target='_blank'>spack/spack</a>

<small>Spack toolchains

Add parser and config support for toolchains. A toolchain is a configured
string alias applied at parse time. When parsing the '%' sigil the parser
will match the token after the sigil to any toolchain name, and if there is
a match it will replace the sigil and following token with the tokens for
the associated string.

For example, the following config allows for the user to enforce usage of
clang for c/cxx and gcc for fortran with a single option `%my_toolchain`

toolchains:
  my_toolchain: ^[when=%c virtuals=c ]clang ^[when=%cxx virtuals=cxx ]clang ^[when=%fortran virtuals=fortran ]gcc

Note that the space before the ']' symbol is required for proper parsing. This
is considered a bug and will be fixed when possible.

Signed-off-by: Gregory Becker <becker33@llnl.gov></small>

<a href='https://github.com/spack/spack/commit/5ae1023fcc656dc36fee99336fb8aa4e0cbfb337' target='_blank'>View Commit</a>