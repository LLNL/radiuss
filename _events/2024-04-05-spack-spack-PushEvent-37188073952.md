---
event_type: PushEvent
avatar: "https://avatars.githubusercontent.com/u/4199709?"
user: alalazo
date: 2024-04-05
repo_name: spack/spack
html_url: https://github.com/spack/spack/commit/1d8b35c84074a846f8f48c59e6379b386b91b944
repo_url: https://github.com/spack/spack
---

<a href='https://github.com/alalazo' target='_blank'>alalazo</a> pushed to <a href='https://github.com/spack/spack' target='_blank'>spack/spack</a>

<small>installer.py: compute package_id from spec (#43485)

The installer runs `get_dependent_ids`, which follows edges outside the
subdag that's being installed, so it returns a superset of the actual
dependents.

That's generally fine, except that it calls `s.package` on every
dependent, which triggers a package class to be instantiated, which is a
lot of work.

Instead, compute the package id from the spec, since that's all that's
used anyways and does not trigger *lots* of slow and redundant
instantiations of package objects.</small>

<a href='https://github.com/spack/spack/commit/1d8b35c84074a846f8f48c59e6379b386b91b944' target='_blank'>View Commit</a>