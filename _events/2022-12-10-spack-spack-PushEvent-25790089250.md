---
event_type: PushEvent
avatar: "https://avatars.githubusercontent.com/u/660149?"
user: trws
date: 2022-12-10
repo_name: spack/spack
html_url: https://github.com/spack/spack/commit/f9d9d43b632e0c1c39bf8f57a05d7b3004fc461d
repo_url: https://github.com/spack/spack
---

<a href='https://github.com/trws' target='_blank'>trws</a> pushed to <a href='https://github.com/spack/spack' target='_blank'>spack/spack</a>

<small>Support for building Pmix with Debian/Ubuntu external dependencies (#32690)

* Debian like distros use multiarch implementation spec
https://wiki.ubuntu.com/MultiarchSpec
Instead of being limited to /usr/lib64, architecture based
lib directories are used. For instance, under ubuntu a library package
on x86_64 installs binaries under /usr/lib/x86_64-linux-gnu.
Building pmix with external dependencies like hwloc or libevent
fail as with prefix set to /usr, that prefix works for
headers and binaries but does not work for libraries. The default
location for library /usr/lib64 does not hold installed binaries.
Pmix build options --with-libevent and --with-libhwloc allow us to
specify dependent library locations. This commit is an effort to
highlight and resolve such an issue when a users want to use Debian like
distro library packages and use spack to build pmix.
There maybe other packages that might be impacted in a similar way.

* Adding libs property to hwloc and libevent and some cleanups to pmix patch

* Fixing style and adding comment on Pmix' 32-bit hwloc version detection issue</small>

<a href='https://github.com/spack/spack/commit/f9d9d43b632e0c1c39bf8f57a05d7b3004fc461d' target='_blank'>View Commit</a>