---
event_type: PushEvent
avatar: "https://avatars.githubusercontent.com/u/12926030?"
user: v-dobrev
date: 2024-03-24
repo_name: mfem/mfem
html_url: https://github.com/mfem/mfem/commit/7be646b8ceac097df2e881823bf7172777fc6cd9
repo_url: https://github.com/mfem/mfem
---

<a href='https://github.com/v-dobrev' target='_blank'>v-dobrev</a> pushed to <a href='https://github.com/mfem/mfem' target='_blank'>mfem/mfem</a>

<small>Fix the HIP build with single precision.

Fix warnings about RAND_MAX when using single precision.

Introduce an inline function `real_t rand_real()` that returns a
random number in the interval [0,1) using rand(). This function
handles better the case of single precision where the expression
`real_t(rand())/(real_t(RAND_MAX)+1)` can return 1.0f due to round-off
when rand() returns a number close to RAND_MAX.

Use `rand_real()` in a few places that before used code similar to
`real_t(rand())/(real_t(RAND_MAX)+1)`.</small>

<a href='https://github.com/mfem/mfem/commit/7be646b8ceac097df2e881823bf7172777fc6cd9' target='_blank'>View Commit</a>