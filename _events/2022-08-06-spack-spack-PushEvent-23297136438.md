---
event_type: PushEvent
avatar: "https://avatars.githubusercontent.com/u/814322?"
user: vsoch
date: 2022-08-06
repo_name: spack/spack
html_url: https://github.com/spack/spack/commit/86be4666fcd5c036e90a335be68b0641a4b5cf3a
repo_url: https://github.com/spack/spack
---

<a href='https://github.com/vsoch' target='_blank'>vsoch</a> pushed to <a href='https://github.com/spack/spack' target='_blank'>spack/spack</a>

<small>flux packages used in a spack view will already be unshallow (#31955)

* flux packages used in a spack view will already be unshallow
and this particular command will error and break the entire build. Instead
we want to catch the ProcessError and allow for a regular fetch.
* final tweaks to add missing sqlite and fallback to fetch

Signed-off-by: vsoch <vsoch@users.noreply.github.com></small>

<a href='https://github.com/spack/spack/commit/86be4666fcd5c036e90a335be68b0641a4b5cf3a' target='_blank'>View Commit</a>