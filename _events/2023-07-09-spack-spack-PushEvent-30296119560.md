---
event_type: PushEvent
avatar: "https://avatars.githubusercontent.com/u/19558067?"
user: alecbcs
date: 2023-07-09
repo_name: spack/spack
html_url: https://github.com/spack/spack/commit/eef14ddcadb6af5beec76a2f5a3cb88d4b9eb1ef
repo_url: https://github.com/spack/spack
---

<a href='https://github.com/alecbcs' target='_blank'>alecbcs</a> pushed to <a href='https://github.com/spack/spack' target='_blank'>spack/spack</a>

<small>openssl: prefer 3.x (#36729)

* openssl: prefer 3.x

This PR is not intended to be merged immediately, but it would be good
to see what packages fail to build in CI so that we can get proper
version constraints on openssl (before all packages update and support
both openssl 1 and 3)

* Disable assembly for 3.x %oneapi

* cmake: depend on spack curl, to deal with curl - openssl compat

* also make zlib external

* remove overly strict & unsafe requirement on py-cryptographty patch version number

* update openssl compat bounds in py-cryptography

* smaller diff

* Make libssh2 an autotools/cmake package

* fix weird upperbound in libssh2 as there is not openssl v2

* libssh2: pc file lists plain -lssl -lcrypto w/o leading -L flag, confusing libgit2 parsing of pkg-config output

* Actually fix the issue in libssh2: its pc file looks broken</small>

<a href='https://github.com/spack/spack/commit/eef14ddcadb6af5beec76a2f5a3cb88d4b9eb1ef' target='_blank'>View Commit</a>