---
event_type: PushEvent
avatar: "https://avatars.githubusercontent.com/u/4656391?"
user: wdconinc
date: 2024-01-07
repo_name: spack/spack
html_url: https://github.com/spack/spack/commit/b111064e221aae83e62226672cd8bf9a7524423d
repo_url: https://github.com/spack/spack
---

<a href='https://github.com/wdconinc' target='_blank'>wdconinc</a> pushed to <a href='https://github.com/spack/spack' target='_blank'>spack/spack</a>

<small>py-htgettoken: use os.environ, avoid AttributeError (#41717)

* py-htgettoken: use os.environ, avoid AttributeError

This avoids the following error:
```
Warning: could not load runtime environment due to AttributeError: 'EnvironmentModifications' object has no attribute 'get'
```

* py-htgettoken: allow for undefined variables

* py-htgettoken: use dict get()

Co-authored-by: Adam J. Stewart <ajstewart426@gmail.com>

---------

Co-authored-by: Adam J. Stewart <ajstewart426@gmail.com></small>

<a href='https://github.com/spack/spack/commit/b111064e221aae83e62226672cd8bf9a7524423d' target='_blank'>View Commit</a>